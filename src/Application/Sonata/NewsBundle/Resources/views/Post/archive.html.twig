{% extends "ApplicationSonataNewsBundle::layout.html.twig" %}



{% block stylesheets %}
{{ parent() }}
<style>
   
        .mytext {
           
            background-color: #f1f1f1;
            width:100px;

        }
        
div.mypost
{
border:1px solid;
border-radius:20px;
-moz-border-radius:20px; /* Old Firefox */
padding-bottom:10px;
padding-left:10px;
margin-bottom:20px;
box-shadow: 7px 7px 5px #888888;
background-color:  #e3e3e3;
} 

div.lescategories {
border:1px solid;
border-radius:10px;
-moz-border-radius:10px; /* Old Firefox */
padding-bottom:10px;
padding-left:5px;
margin-bottom:10px;
box-shadow: 3px 3px 2px #888888;
background-color:  #e3e3e3;
}


</style> 
  {% endblock %}



{% block javascripts %}
      {{ parent() }}
 <script>
$(function() {
$( "#accordion-archives" ).accordion({
collapsible: true
});
});
</script>

     {#{ tinymce_init() }#}
  {% endblock %}


{% block content_header '' %}
{% block title %}
 MON BLOG DE TESTS
{% endblock %}
     {#% block NAVIGATION_BAR %}jkljklT{% endblock %#}
 
{% block content %}

{#

/*
 * This file is part of the Sonata package.
 *
 * (c) Thomas Rabaix <thomas.rabaix@sonata-project.org>
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */

#}

<h1>{{ 'title_archive'|trans({}, 'SonataNewsBundle') }}</h1>
{#{ test }#}
page={{ pager.page }}/{{ pager|length }}
{% for page in pager.getLinks() %}

                                        {% endfor %}
      
<!--<div class="sonata-blog-post-list">-->


 <!--   <li class="active"><a href="#11">d</a></li></ul>
     </td></tr>               
                                        </table> -->
                                   
    {% for post in pager.getResults() %}
         <div class="mypost">
            <div class="sonata-blog-post-date-container">
                {{ post.publicationDateStart | format_date }}
                 - ({{ post.publicationDateStart | created_ago  }})
              
            </div>
             <!--   <h2 class="entry-title">-->
            <h2 class="sonata-blog-post-title">
                <a href="{{ url('sonata_news_view', { 'permalink': sonata_news_permalink(post) }) }}">{{ post.title }}</a>
                <span class="sonata-blog-post-author">{{ 'archive_author'|trans({'%author%': post.author }, 'SonataNewsBundle') }}</span>
            </h2>
            <div class="sonata-blog-post-information">

                <div class="sonata-blog-post-tag-container">
                    <div class="sonata-blog-post-tag-title">
                           {{ 'published_under'|transchoice(post.tags|length, {}, 'SonataNewsBundle') }}

              
                    </div>
                    <div class="sonata-blog-post-tag-list">
                        {% for tag in post.tags%}
                             <span class="label label-inverse">
                            <a href="{{ url('sonata_news_tag', {'tag': tag.slug} ) }}">{{ tag.name }}</a>
                            {% if not loop.last%}, {%endif%}
                             </span>
                        {% endfor %}
                    </div>
                </div>
            </div>

                       
                        <div class="sonata-blog-post-tag-list">
                            {% if  post.category is defined and  post.category is not empty%}
                       
                         <span class="label">
                             <!--Catégorie: -->
                        <a href="{{ url('sonata_news_category', {'category': post.category.slug} ) }}">{{ post.category }}</a>
                        </span>
                        {% else %}
                        Pas de Catégorie
                        {% endif %}
                       
                    </div>
           {% if post.commentsCloseAt  is not null %}
                 <span class="label label-important">Fermeture des commentaires: {{ post.commentsCloseAt | format_date }}</span>
                    {% endif %}
                 
           
            <div class="sonata-blog-post-abtract">
              Extrait:  {{ post.abstract }}
            </div>
                    
            <span class="badge badge-warning">{{ 'comments_count'|trans({'%comments_count%': post.commentsCount }, 'SonataNewsBundle') }}</span>
       <!-- </div>-->
       </div>
    {% else %}
        {{ 'no_post_found'|trans({}, 'SonataNewsBundle') }}
<!--</div>-->
    {% endfor %}
  {#{ knp_pagination_render(pager) }#}

<!--http://symvideo:92/archive?page=2-->


{#{ include('ApplicationSonataNewsBundle::Post::sidebarone.html.twig') }#}
<table class="table table-bordered table-striped">
 {% if pager.haveToPaginate() %}
                        <tr>
                            <td colspan="{{ pager|length }}">
                                <div class="pagination pagination-centered">
                                    <ul>
                                        {% if pager.page != 1  %}
                                       <li>
                                           <a href="{{ url('sonata_news_archive', { 'page': pager.firstpage }) }}">{{ pager.firstpage }}</a>                                 
                                           </li>
                                     
                                        {% endif %}

                                        {% if pager.page != pager.previouspage and pager.previouspage !=1 %}
  <li>       <a href="{{ url('sonata_news_archive', { 'page': pager.previouspage }) }}">{{ pager.previouspage }}</a>                                 
      </li>
   {% endif %}

                                        {# Set the number of pages to display in the pager #}
                                        {% for page in pager.getLinks() %}
                                            {% if page == pager.page %}
                                              {% else %}
                                             {% endif %}
                                        {% endfor %}

                                        {% if pager.page != pager.nextpage %}
                               <li>          <a href="{{ url('sonata_news_archive', { 'page': pager.nextpage }) }}">{{ pager.nextpage }}</a>                                 
                                   </li>
                                         {% endif %}

                                        {% if pager.page != pager.lastpage  %}
 
                 <li> <a href="{{ url('sonata_news_archive', { 'page': pager.lastpage }) }}"> ></a> </li>                                
   
       
 {% endif %}
                                    </ul>
                                </div>
                            </td>
                        </tr>
                    {% endif %}
        
            </table>



{% endblock %}
{% block archives %}
    {{ parent() }}
 {% endblock %}
 
 
   {% block categories %}
   {{ parent() }}
        {% for category in allcategories %}
       <span class="label">
                             <!--Catégorie: -->
                        <a href="{{ url('sonata_news_category', {'category': category.slug} ) }}">{{ category.name }}</a>
                        </span>
    
    
                 {% endfor %}
   {% endblock %}

    
    
      {% block tags %}
    {{ parent() }}
<div><p>
        {% for tag in alltags %}
       <span class="badge badge-warning">
                             <!--Catégorie: -->
                        <a href="{{ url('sonata_news_tag', {'tag': tag.slug} ) }}">{{ tag.name }}</a>
                        </span>
    
    
                 {% endfor %}
                </p></div>
   {% endblock %}

